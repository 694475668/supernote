(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d6f5486"],{"3a00":function(t,e,a){"use strict";var o=a("9c5b"),l=a.n(o);l.a},"864d":function(t,e,a){"use strict";a.d(e,"e",function(){return l}),a.d(e,"j",function(){return n}),a.d(e,"a",function(){return i}),a.d(e,"f",function(){return r}),a.d(e,"d",function(){return d}),a.d(e,"g",function(){return s}),a.d(e,"i",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"h",function(){return m}),a.d(e,"b",function(){return g});var o=a("b775");function l(t){return Object(o["a"])({url:"cms/manage/blog/query",method:"post",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function n(t){return Object(o["a"])({url:"cms/picture/upload",method:"post",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function i(t){return Object(o["a"])({url:"cms/manage/blog",method:"post",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function r(t){return Object(o["a"])({url:"cms/manage/blog",method:"put",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function d(t){return Object(o["a"])({url:"cms/manage/blog/"+t,method:"get",headers:{"x-access-token":window.localStorage.getItem("token")}})}function s(t,e){return Object(o["a"])({url:"cms/manage/blog/"+e,method:"put",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function c(t,e){return Object(o["a"])({url:"cms/manage/blog/seq/"+e,method:"put",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function u(t){return Object(o["a"])({url:"cms/manage/blog/"+t,method:"delete",headers:{"x-access-token":window.localStorage.getItem("token")}})}function m(t){return Object(o["a"])({url:"cms/manage/blog/recommend",method:"put",headers:{"x-access-token":window.localStorage.getItem("token")},data:t})}function g(t,e,a,o,l){return t.map(function(t){t.id==e&&(null!=l&&""!=l&&(t.updateUser=l),null!=o&&""!=o&&(t.updateTime=o),null!=a&&""!=a&&(t.line=a))}),t}},"9c5b":function(t,e,a){},ead4:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addblog"},[a("el-form",{ref:"addblog",attrs:{model:t.addblog,rules:t.addblog,"status-icon":!0,"hide-required-asterisk":""}},[a("el-form-item",{attrs:{label:"序号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.addblog.seq,callback:function(e){t.$set(t.addblog,"seq",e)},expression:"addblog.seq"}})],1),t._v(" "),a("div",{staticClass:"commont"},[a("el-form-item",{attrs:{label:"标题（CN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"50"},model:{value:t.addblog.titleCn,callback:function(e){t.$set(t.addblog,"titleCn",e)},expression:"addblog.titleCn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标题（EN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"50"},model:{value:t.addblog.titleEn,callback:function(e){t.$set(t.addblog,"titleEn",e)},expression:"addblog.titleEn"}})],1)],1),t._v(" "),a("div",{staticClass:"commont"},[a("el-form-item",{attrs:{label:"作者（CN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"40"},model:{value:t.addblog.authorCn,callback:function(e){t.$set(t.addblog,"authorCn",e)},expression:"addblog.authorCn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作者（EN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"40"},model:{value:t.addblog.authorEn,callback:function(e){t.$set(t.addblog,"authorEn",e)},expression:"addblog.authorEn"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"推荐标志","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"Y"},model:{value:t.addblog.recommendFlag,callback:function(e){t.$set(t.addblog,"recommendFlag",e)},expression:"addblog.recommendFlag"}},[t._v("推荐")]),t._v(" "),a("el-radio",{attrs:{label:"N"},model:{value:t.addblog.recommendFlag,callback:function(e){t.$set(t.addblog,"recommendFlag",e)},expression:"addblog.recommendFlag"}},[t._v("不推荐")])],1),t._v(" "),a("div",{staticClass:"commont"},[a("el-form-item",{attrs:{label:"pc图片","label-width":t.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"before-upload":t.beforeUploadPicture1}},[t.imageUrl1?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"移动端图片","label-width":t.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"before-upload":t.beforeUploadPicture2}},[t.imageUrl2?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t._v(" "),a("div",{staticClass:"commont"},[a("el-form-item",{attrs:{label:"SEO关键字（CN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"255"},model:{value:t.addblog.seoKeywordCn,callback:function(e){t.$set(t.addblog,"seoKeywordCn",e)},expression:"addblog.seoKeywordCn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SEO关键字（EN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"255"},model:{value:t.addblog.seoKeywordEn,callback:function(e){t.$set(t.addblog,"seoKeywordEn",e)},expression:"addblog.seoKeywordEn"}})],1)],1),t._v(" "),a("div",{staticClass:"commont"},[a("el-form-item",{attrs:{label:"SEO描述（CN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"255"},model:{value:t.addblog.seoDescriptionCn,callback:function(e){t.$set(t.addblog,"seoDescriptionCn",e)},expression:"addblog.seoDescriptionCn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SEO描述（EN）","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text",maxlength:"255"},model:{value:t.addblog.seoDescriptionEn,callback:function(e){t.$set(t.addblog,"seoDescriptionEn",e)},expression:"addblog.seoDescriptionEn"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"浏览数","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text"},model:{value:t.addblog.viewCount,callback:function(e){t.$set(t.addblog,"viewCount",e)},expression:"addblog.viewCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评论数","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text"},model:{value:t.addblog.commentsCount,callback:function(e){t.$set(t.addblog,"commentsCount",e)},expression:"addblog.commentsCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"点赞数","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",type:"text"},model:{value:t.addblog.thumbsCount,callback:function(e){t.$set(t.addblog,"thumbsCount",e)},expression:"addblog.thumbsCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"博客内容（CN）","label-width":t.formLabelWidth}},[a("el-upload",{staticClass:"avatar-uploader",staticStyle:{display:"none"},attrs:{action:"","http-request":t.to_upload_img,"show-file-list":!1}},[t._v("\n        >\n        "),a("i",{staticClass:"el-icon-plus avatar-uploader-icon",attrs:{id:"imgInput"}})]),t._v(" "),a("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption,"show-word-limit":""},on:{blur:function(e){return t.onEditorBlur1(e)},focus:function(e){return t.onEditorFocus1(e)},change:function(e){return t.onEditorChange1(e)}},model:{value:t.addblog.contentCn,callback:function(e){t.$set(t.addblog,"contentCn",e)},expression:"addblog.contentCn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"博客内容（EN）","label-width":t.formLabelWidth}},[a("quill-editor",{ref:"myQuillEditor1",attrs:{options:t.editorOption,"show-word-limit":""},on:{blur:function(e){return t.onEditorBlur1(e)},focus:function(e){return t.onEditorFocus1(e)},change:function(e){return t.onEditorChange1(e)}},model:{value:t.addblog.contentEn,callback:function(e){t.$set(t.addblog,"contentEn",e)},expression:"addblog.contentEn"}})],1)],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"put",staticStyle:{}},[a("el-button",{attrs:{type:"success",round:""},on:{click:t.back}},[t._v("返回")]),t._v(" "),a("el-button",{attrs:{type:"primary",round:""},on:{click:t.save}},[t._v("提交")])],1)],1)},l=[],n=a("bd86"),i=a("9339"),r=(a("a753"),a("8096"),a("14e1"),a("864d")),d={data:function(){var t;return t={formLabelWidth:"200px",addblog:{seq:"",authorCn:"",authorEn:"",titleCn:"",titleEn:"",contentCn:"",contentEn:"",urlPc:"",urlMobile:"",seoKeywordCn:"",seoKeywordEn:"",seoDescriptionCn:"",seoDescriptionEn:"",line:"1",viewCount:"",commentsCount:"",thumbsCount:"",recommendFlag:"N"},imageUrl2:"",imageUrl1:"",addRange:[],addRange1:[],Rangeflag:!1,Rangeflag1:!1,value:""},Object(n["a"])(t,"formLabelWidth","200px"),Object(n["a"])(t,"editorOption",{placeholder:"请输入文本信息..."}),t},methods:{imgHandler:function(t){if(this.addRange=this.$refs.myQuillEditor.quill.getSelection(),""!=this.addRange&&null!=this.addRange&&(this.Rangeflag=!0),this.addRange1=this.$refs.myQuillEditor1.quill.getSelection(),""!=this.addRange1&&null!=this.addRange1&&(this.Rangeflag1=!0),t){var e=document.getElementById("imgInput");e.click()}},to_upload_img:function(t){var e=this;return new Promise(function(a,o){var l=new FormData;l.append("file",t.file),Object(r["j"])(l).then(function(t){e.Rangeflag&&(e.addRange=e.$refs.myQuillEditor.quill.getSelection(),e.$refs.myQuillEditor.quill.insertEmbed(null!==e.addRange?e.addRange.index:0,"image",t.voT.downloadUrl,i["sources"].USER),e.Rangeflag=!1),e.Rangeflag1&&(e.addRange1=e.$refs.myQuillEditor1.quill.getSelection(),e.$refs.myQuillEditor1.quill.insertEmbed(null!==e.addRange1?e.addRange1.index:0,"image",t.voT.downloadUrl,i["sources"].USER),e.Rangeflag1=!1)})})},beforeUploadPicture2:function(t){var e=this;if("image/png"===t.type||"image/gif"===t.type||"image/jpg"===t.type||"image/jpeg"===t.type){var a=t.size/1024/1024/2;if(!(a>2)){var o=new FormData;return o.append("file",t),Object(r["j"])(o).then(function(t){e.imageUrl2=t.voT.downloadUrl}),!1}this.$notify.warning({title:"警告",message:"图片大小必须小于2M"})}else this.$notify.warning({title:"警告",message:"请上传格式为image/png, image/gif, image/jpg, image/jpeg的图片"})},beforeUploadPicture1:function(t){var e=this;if("image/png"===t.type||"image/gif"===t.type||"image/jpg"===t.type||"image/jpeg"===t.type){var a=t.size/1024/1024/2;if(!(a>2)){var o=new FormData;return o.append("file",t),Object(r["j"])(o).then(function(t){e.imageUrl1=t.voT.downloadUrl}),!1}this.$notify.warning({title:"警告",message:"图片大小必须小于2M"})}else this.$notify.warning({title:"警告",message:"请上传格式为image/png, image/gif, image/jpg, image/jpeg的图片"})},back:function(){this.$router.push({path:"blogList"})},msgTip:function(t,e){this.$message({type:t,message:e,center:!0})},save:function(){var t=this;this.addblog.urlPc=this.imageUrl1,this.addblog.urlMobile=this.imageUrl2,""!=this.addblog.seq?""!=this.addblog.titleCn&&""!=this.addblog.titleEn?""!=this.addblog.authorCn&&""!=this.addblog.authorEn?""!=this.imageUrl1?""!=this.imageUrl2?Object(r["a"])(this.addblog).then(function(e){e.success?(t.msgTip("success","操作成功"),t.$router.push({path:"blogList"})):t.$message({type:"warning",message:e.errorMsg,center:!0})}):this.msgTip("warning","必须上传手机端图片"):this.msgTip("warning","必须上传PC端图片"):this.msgTip("warning","作者不能为空"):this.msgTip("warning","标题不能为空"):this.msgTip("warning","序号不能为空")},onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorChange:function(t){},onEditorBlur1:function(t){},onEditorFocus1:function(t){},onEditorChange1:function(t){}},mounted:function(){this.$refs.myQuillEditor.quill.getModule("toolbar").addHandler("image",this.imgHandler),this.$refs.myQuillEditor1.quill.getModule("toolbar").addHandler("image",this.imgHandler)}},s=d,c=(a("3a00"),a("2877")),u=Object(c["a"])(s,o,l,!1,null,"74e5a598",null);e["default"]=u.exports}}]);